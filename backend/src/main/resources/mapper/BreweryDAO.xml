<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.trip.brewery.dao.BreweryDAO">

	<!--양조장 전체 리스트 보여주기 -->
	<select id="showBreweryList" resultType="map" resultMap="blist">
		select
		brewery_title, brewery_address, brewery_kind, brewery_tel,
		min_people, brewery_img
		from brewery;
	</select>

	<resultMap type="map" id="blist">
		<result column="brewery_title" property="breweryTitle" />
		<result column="brewery_address" property="breweryAddress" />
		<result column="brewery_kind" property="breweryKind" />
		<result column="brewery_tel" property="breweryTel" />
		<result column="min_people" property="minPeople" />
		<result column="brewery_img" property="breweryImg" />
	</resultMap>

	<!--양조장 지역별 리스트 보여주기 -->
	<select id="showBreweryRegionList" resultType="map" resultMap="regionList">
		select brewery_title, brewery_address, brewery_kind,
		brewery_tel, min_people, brewery_img
		from brewery
		where brewery_img is not null
		and brewery_img != '' and brewery_address like concat(#{brewery_address}, '%')
	</select>

	<resultMap type="map" id="regionList">
		<result column="brewery_title" property="breweryTitle" />
		<result column="brewery_address" property="breweryAddress" />
		<result column="brewery_kind" property="breweryKind" />
		<result column="brewery_tel" property="breweryTel" />
		<result column="min_people" property="minPeople" />
		<result column="brewery_img" property="breweryImg" />
	</resultMap>
</mapper>